<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
        <title>Homework 5</title>
        
        <style>
            #map {
                height: 600px;
                width: 100%;
            }
         </style>     
	</head>

	<body>

        <h1>作業五 - 台中市西屯區的郵局與加油站</h1>

        <div id="map"></div>

        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDOTVkWo2EMR6xO16mb05oKvuULxXmMZsU&callback=initMap"></script>
        <script type = "text/javascript">

            var XitunPostOffice = [
                [ {lat: 24.1824159, lng: 120.6005393}, '臺中市西屯區臺灣大道4段1727號(東海大學內)'],
                [ {lat: 24.175272, lng: 120.649134}, '臺中市西屯區河南路2段268號'],
                [ {lat: 24.1766902, lng: 120.6376427}, '臺中市西屯區黎明路3段130號'],
                [ {lat: 24.1646991, lng: 120.6520461}, '臺中市西屯區青海路1段83號'],
                [ {lat: 24.1699328, lng: 120.6042603}, '臺中市西屯區工業區六路10號'],
                [ {lat: 24.1837633, lng: 120.6015126}, '臺中市西屯區臺灣大道4段1650號(台中榮總內)'],
                [ {lat: 24.1904375, lng: 120.610076}, '臺中市西屯區永安里西屯路3段166-80號'],
                [ {lat: 24.1564676, lng: 120.6507665}, '臺中市西屯區大隆路60、62號'],
                [ {lat: 24.1834831, lng: 120.6163645}, '臺中市西屯區福順路318號'],
                [ {lat: 24.1665835, lng: 120.6409554}, '西屯區臺灣大道3段366號1樓'],
                [ {lat: 24.2085836, lng: 120.6118869}, '西屯區中科路1號']
            ];

            var XitunGasstation = [
                [ {lat: 24.182369, lng: 120.6314393}, '台中市西屯區西屯路三段77-3號'],
                [ {lat: 24.1654848, lng: 120.6430318}, '台中市西屯區台灣大道三段258號'],
                [ {lat: 24.2079732, lng: 120.649038}, '台中市西屯區中清路三段457號'],
                [ {lat: 24.182917, lng: 120.5991403}, '福聯里臺灣大道四段1832號'],
                [ {lat: 24.166172, lng: 120.6167743}, '安和路51-8號'],
                [ {lat: 24.1721424, lng: 120.6432125}, '河南路二段341號'],
                [ {lat: 24.2009436, lng: 120.6526457}, '中清路三段150號'],
                [ {lat: 24.1844179, lng: 120.5881791}, '福聯里臺灣大道五段142號1樓'],
                [ {lat: 24.1983873, lng: 120.6403902}, '廣福路191號'],
                [ {lat: 24.2081756, lng: 120.6488371}, '中清路三段1號'],
                [ {lat: 24.192622, lng: 120.6209773}, '福雅路300號'],
                [ {lat: 24.174953, lng: 120.6021312}, '工業八路2號'],
                [ {lat: 24.1628253, lng: 120.6262056}, '環中路3段800號'],
                [ {lat: 24.1874209, lng: 120.616208}, '福康路199號'],
                [ {lat: 24.180119, lng: 120.6303033}, '福科路110號'],
                [ {lat: 24.171489, lng: 120.6576353}, '文心路3段187號'],
                [ {lat: 24.1618038, lng: 120.6483075}, '台灣大道2段917號'],
                [ {lat: 24.2012093, lng: 120.6077827}, '林厝里東大路一段1220號'],
                [ {lat: 24.1951644, lng: 120.6420678}, '環中路二段698號'],
                [ {lat: 24.2007819, lng: 120.6547873}, '環中路一段2490號'],
                [ {lat: 24.2051471, lng: 120.6268954}, '林厝里福雅路693號']
            ];

            function initMap() {

                var infoWindow = new google.maps.InfoWindow();

                var XitunDistrict = {lat: 24.175176, lng: 120.630947};
                var map = new google.maps.Map(document.getElementById('map'), {
                    zoom: 14,
                    center: XitunDistrict
                });

                for( i in XitunPostOffice ) {
                    marker = new google.maps.Marker({
                        position: XitunPostOffice[i][0],
                        icon: './post-office.png',
                        map: map
                    });

                    google.maps.event.addListener(marker, 'mouseover', (function(marker, i) {
                        return function() {
                            infoWindow.setContent('地址：' + XitunPostOffice[i][1]);
                            infoWindow.open(map, marker);
                        }
                    })(marker, i));
                }

                for( i in XitunGasstation ) {
                    var marker = new google.maps.Marker({
                        position: XitunGasstation[i][0],
                        icon: './gas-station.png',
                        map: map
                    });

                    google.maps.event.addListener(marker, 'mouseover', (function(marker, i) {
                        return function() {
                            infoWindow.setContent('地址：' + XitunGasstation[i][1]);
                            infoWindow.open(map, marker);
                        }
                    })(marker, i));
                }

            }

        </script>

	</body>
</html>